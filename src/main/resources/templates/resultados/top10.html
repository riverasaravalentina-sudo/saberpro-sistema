<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Top 10 Mejores Resultados</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div th:replace="layout/base :: navbar"></div>
    <div class="container py-4">
        <h1><i class="fas fa-trophy me-2 text-warning"></i>Top 10 Mejores Resultados</h1>
        
        <div th:if="${resultados == null || resultados.isEmpty()}" class="alert alert-info">
            <i class="fas fa-info-circle me-2"></i>No hay resultados disponibles.
        </div>
        
        <div th:if="${resultados != null && !resultados.isEmpty()}" class="row row-cols-1 g-4 mt-3">
            <div th:each="resultado, iterStat : ${resultados}" class="col">
                <div class="card shadow-sm border-0" 
                     th:classappend="${iterStat.index == 0} ? 'border-warning border-3' : ''">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-auto">
                                <div class="display-4 fw-bold" 
                                     th:classappend="${iterStat.index == 0} ? 'text-warning' : (${iterStat.index == 1} ? 'text-secondary' : (${iterStat.index == 2} ? 'text-danger' : 'text-muted'))">
                                    <i class="fas fa-trophy"></i>
                                </div>
                            </div>
                            <div class="col">
                                <h5 class="mb-1">
                                    <span class="badge bg-primary me-2" th:text="'#' + ${iterStat.index + 1}">#1</span>
                                    <span th:text="${resultado.alumno.primerNombre + ' ' + resultado.alumno.primerApellido}">Nombre Alumno</span>
                                </h5>
                                <p class="text-muted mb-0">
                                    <i class="fas fa-graduation-cap me-2"></i>
                                    <span th:text="${resultado.alumno.programa}">Programa</span>
                                </p>
                            </div>
                            <div class="col-auto text-end">
                                <div class="display-6 fw-bold text-primary" th:text="${resultado.puntajeGlobal}">200</div>
                                <small class="text-muted">puntos</small>
                                <br/>
                                <span class="badge" 
                                      th:classappend="${resultado.nivelGlobal == 'SUPERIOR'} ? 'bg-success' : (${resultado.nivelGlobal == 'SATISFACTORIO'} ? 'bg-info' : 'bg-warning')"
                                      th:text="${resultado.nivelGlobal}">SUPERIOR</span>
                            </div>
                        </div>
                        <div class="mt-3">
                            <a th:href="@{/resultados/detalle/{id}(id=${resultado.id})}" class="btn btn-sm btn-outline-primary">
                                <i class="fas fa-eye me-1"></i>Ver Detalle
                            </a>
                            <a th:href="@{/alumnos/detalle/{id}(id=${resultado.alumno.id})}" class="btn btn-sm btn-outline-secondary">
                                <i class="fas fa-user me-1"></i>Ver Alumno
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div th:replace="layout/base :: footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
